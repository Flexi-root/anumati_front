(this.webpackJsonpanumati_front=this.webpackJsonpanumati_front||[]).push([[0],{24:function(e,t,a){},39:function(e,t,a){e.exports=a(72)},44:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),c=a.n(i),o=(a(44),a(3)),s=a.n(o),l=a(10),u=a(5),m=a(6),d=a(7),p=a(8),h=a(73),f=a(2),g=function(e){return r.a.createElement("div",{className:"error-message"},e.children)},v=(a(24),a(14)),E=a.n(v);E.a.defaults.baseURL="http://13.233.33.10:8091";var b=function(e,t){return E.a.post("/signin",{email:e,password:t})},w=function(e,t,a){return E.a.post("/createAccount",{name:e,email:t,password:a,key:"test"})},y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).registerEval=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.email,i=t.password,e.next=3,w(a,r,i);case 3:c=e.sent,o=c.data,console.log("data: ",o),n.props.onRegister();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-container"},r.a.createElement(f.d,{className:"login-form",initialValues:{name:"",email:"",organization:"",password:"",cpassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),e.name||(t.name="Required"),e.organization||(t.organization="Required"),e.cpassword||(t.cpassword="Required"),t},onSubmit:this.registerEval},(function(e){var t=e.isSubmitting;return r.a.createElement(f.c,null,r.a.createElement(f.b,{type:"text",name:"name",placeholder:"Your Name"}),r.a.createElement(f.a,{name:"name",component:g}),r.a.createElement(f.b,{type:"email",name:"email",placeholder:"Email ID (will be your username)"}),r.a.createElement(f.a,{name:"email",component:g}),r.a.createElement(f.b,{type:"text",name:"organization",placeholder:"Organization name"}),r.a.createElement(f.a,{name:"organization",component:g}),r.a.createElement(f.b,{type:"password",name:"password",placeholder:"Create Password"}),r.a.createElement(f.a,{name:"password",component:g}),r.a.createElement(f.b,{type:"password",name:"cpassword",placeholder:"Confirm Password"}),r.a.createElement(f.a,{name:"cpassword",component:g}),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"primary",size:"lg",type:"submit",disabled:t},"Register"))})))}}]),a}(r.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).loginEval=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,i,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.next=3,b(a,r);case 3:i=e.sent,c=i.data,localStorage.setItem("auth",c.authToken),n.props.onLogin();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openRegistrationForm=function(){n.setState({registered:!1})},n.hideRegistrationForm=function(){n.setState({registered:!0})},n.state={registered:!0},n}return Object(m.a)(a,[{key:"render",value:function(){return this.state.registered?r.a.createElement("div",{className:"form-container"},r.a.createElement(f.d,{className:"login-form",initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},onSubmit:this.loginEval},(function(e){var t=e.isSubmitting;return r.a.createElement(f.c,null,r.a.createElement(f.b,{type:"email",name:"email",placeholder:"Email ID"}),r.a.createElement(f.a,{name:"email",component:g}),r.a.createElement(f.b,{type:"password",name:"password",placeholder:"Create Password"}),r.a.createElement(f.a,{name:"password",component:g}),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"primary",size:"lg",type:"submit",disabled:t},"Login"))})),r.a.createElement("div",{onClick:this.openRegistrationForm,class:"create-acc-link"},"Create a new account")):r.a.createElement(y,{onRegister:this.hideRegistrationForm})}}]),a}(r.a.Component),j=a(15),k=a(37),C=(a(67),a(68),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.rows.map((function(e,t){var a="status";return e.status&&(a+=" ".concat(e.status.toLowerCase())),r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.requestCount),r.a.createElement("td",null,e.createdAt),r.a.createElement("td",null,e.district),r.a.createElement("td",{className:a},e.status),r.a.createElement("td",null,e.pdfUrl))}));return r.a.createElement("div",{className:"request-table-container"},r.a.createElement(k.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"No of Passes"),r.a.createElement("th",null,"Raised on"),r.a.createElement("th",null,"District"),r.a.createElement("th",null,"Status"),r.a.createElement("th",{width:"300"},"Download")),r.a.createElement("tbody",null,e)))}}]),a}(r.a.Component)),R=(a(69),function(e){var t="base-card";return e.isActive&&(t+=" active"),e.class&&(t+=" ".concat(e.class)),r.a.createElement("div",{onClick:e.onClick,className:t},e.children)}),S=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={organization:n.props.organization,accountId:n.props.accountId,authToken:n.props.authToken,organizationName:"",orderList:[],file:null,type:null},n.createRequest=n.createRequest.bind(Object(j.a)(n)),n.onFileChangeHandler=n.onFileChangeHandler.bind(Object(j.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.npms.io/v2/search?q=react");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.next=8,this.setState({orderList:[{id:"",accountId:"",orderStatus:"",orderType:"",requestCount:"100",district:"Bengaluru",type:"VEHICLE",status:"Approved",createdAt:"25/03/2020 | 07:01 am",pdfUrl:"https://www.who.int/docs/default-source/coronaviruse/situation-reports/20200308-sitrep-48-covid-19.pdf"},{requestCount:"300",district:"Bengaluru",type:"PERSON",status:"Pending",createdAt:"30/04/2020 | 10:01 pm",pdfUrl:null}]});case 8:return e.next=10,this.setState({organizationName:a.organizationName});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createRequest",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new FormData,this.state.type){e.next=3;break}return e.abrupt("return");case 3:return t.append("type",this.state.type),t.append("accountId",this.state.accountId),t.append("authToken",this.state.authToken),t.append("file",this.state.file[0]),"http://localhost:3000/createOrder",e.prev=8,e.next=11,E.a.post("http://localhost:3000/createOrder",t);case 11:a=e.sent,console.log(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"onFileChangeHandler",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({file:t.target.files});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"padding-46"},r.a.createElement("div",{class:"action-container"},r.a.createElement(R,{isActive:!0},r.a.createElement("img",{height:"60",src:"../individual-order.png"})),r.a.createElement(R,null,r.a.createElement("img",{height:"60",src:"../vehicle-order.png"})),r.a.createElement("div",{class:"separator"}),r.a.createElement(R,null,"Download Sample file"),r.a.createElement("div",{class:"upload-container"},r.a.createElement("label",{for:"file-upload"},"Upload file"),r.a.createElement("input",{hidden:!0,id:"file-upload",type:"file",accept:".csv",onChange:this.onFileChangeHandler})),r.a.createElement(R,{onClick:this.createRequest,class:"send-request-btn"},"Send Request")),r.a.createElement(C,{rows:this.state.orderList}))}}]),a}(r.a.Component),x=(a(70),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-header"},r.a.createElement("img",{src:"../anumatiLogo.jpg",height:"30"}),r.a.createElement("span",{className:"sign-out"},"Sign out"))}}]),a}(r.a.Component)),q=(a(71),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onLoginSuccess=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loggedIn:!0});case 1:case"end":return e.stop()}}),e)}))),n.state={loggedIn:!1},n}return Object(m.a)(a,[{key:"render",value:function(){return this.state.loggedIn?r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(S,null)):r.a.createElement("div",{className:"login-form"},r.a.createElement("img",{src:"../anumatiLogo.jpg",style:{display:"block",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(O,{onLogin:this.onLoginSuccess}))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.13f88dd9.chunk.js.map